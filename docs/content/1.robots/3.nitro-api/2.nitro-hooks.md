---
title: Nitro Hooks
description: Learn how to use Nitro hooks to modify the robots final output.
---

## `robots:config`

**Type:**

```ts
interface HookContexct {
  config: {
    groups: RobotsGroupResolved[]
    sitemaps: string[]
    context: 'robots.txt' | 'middleware'
  }
}
```

Modify the sitemap config before it's used to generate the indexing rules.

This is called when generating the robots.txt as well as for each route when we determine if we should add the meta tag and
headers.

If you need to perform logic that is blocking (such as a fetch), it's recommended only to target the `robots.txt` context. This
will ensure you're not slowing down the response time for each route.

```ts
export default defineNitroPlugin((nitroApp) => {
  nitroApp.hooks.hook('robots:config', async (ctx) => {
    if (ctx.context === 'robots.txt') {
      // note: you probably want to cache this
      const ignoredRoutes = await $fetch('/api/ignored-routes')
      ctx.config.groups[0].disallow.push(...ignoredRoutes)
    }
  })
})
```

## `robots:robots-txt`

**Type:**

```ts
interface HookContexct {
  e: H3Event
  robotsTxt: string
}
```

This hook allows you to modify the robots.txt content before it is sent to the client.

```ts
export default defineNitroPlugin((nitroApp) => {
  if (!process.dev) {
    nitroApp.hooks.hook('robots:robots-txt', async (ctx) => {
      // remove comments from robotsTxt in production
      ctx.robotsTxt = ctx.robotsTxt.replace(/^#.*$/gm, '').trim()
    })
  }
})
```
